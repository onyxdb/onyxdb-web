# НИУ ВШЭ ВКР "DBaaS Platform"
Тема: "Управляемые базы данных в Kubernetes как сервис. Модули управления доступами и пользовательского интерфейса"

Выполнил студент группы БПИ217 `Федоров Артём`

Проект можно заустить в нескольких вариантах:

1) Локальный запуск для разработки фронтенда (Web) и бекенда (IDM + MDB). Позволяет запустить легковестную часть работу, исключая работу с Kubernetes, из-за чего работа модуля MDB и соответственной части фронтенда может работать некорректно.
2) Запуск в Minikube всей системы. Практически соответствует работе в реальном Kubernetes, но могут быть ошибки из-за нюансов локальной системы. Требует большого количества железа (больше 16гб RAM)
3) Запуск в настроящем Kubernetes.

### Локальный запуск (не полный)

Для запуска проекта локально (1) необходимо выполнить несколько шагов:

1) Запустить бекенд по правилам как указано в его репозитории https://github.com/onyxdb/onyxdb.

Должен быть поднят Java монолит, PostgreSQL, Redis, ClickHouse.

2) Запуск фронтенда:

Если установлен Homebrew, то для подготовки выполнить в консоли:
```bash
brew install nvm
source $(brew --prefix nvm)/nvm.sh
nvm install node
nvm install 20.18.2
```
Далее выполнить из корня репозитория
```bash
nvm use 20.18.2
make up
```
### Запуск проекта в Minikube и Kubernetes

Для запуска проекта в Minikube и Kubernetes стоит обратиться к документации в репозитории https://github.com/onyxdb/onyxdb

Сборка в Docker:
```bash
docker build -t onyxdb-web .
```

---

При запуске фронтенда обратите внимание на env и окружение, в котором вы запускаете. 
Выберите env бекенда для запуска в различных системах

> ENV BACKEND_URL=http://localhost:9001 - стоит по умолчанию

> ENV BACKEND_URL=http://host.docker.internal:9001

> ENV BACKEND_URL=http://onyxdb:9001
